<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="m-2">
    <input type="file" id="myfile" class="btn btn-secondary" />

    <input type="button" onclick="SaveMyFile()" value="Save" 
    class="btn btn-info"/>
    </div>

    <script>

// display image (base 64) in localstorage using promise 
        function SaveMyFile()
        {
            /* yaha jo bhi img file hum select karenge wo
            var d mai store hogi , .files we can take multiple file of img*/
            var d= document.getElementById("myfile").files[0];

          let prmise = new Promise((rs,fai)=> {

               // yaha humne FileReader() ka object banaya hai 
                let fileReader= new FileReader();

                /* yaha readAsDataURL ek property hai, jo uper var d mai
                jo img file store ki hai usko read karega then wo file
                reader per onload method ki then jo result aya usko
                resolve mai return kiya.  */ 
                fileReader.readAsDataURL(d);

                fileReader.onload = ()=> {

                    let result = fileReader.result;
                    rs(result);

                }

          });

            prmise.then(y=> {     
                
                // localstorage mai y mai image store hogi ,wo string format mai store hogi
                localStorage.setItem("myfile",y);  
            })

        }   


    </script>


</body>
</html>